# Linux网络管理

## Linux配置IP地址

### 临时配置Linux配置IP地址：ifconfig 网卡名 ip地址 netmask 子网掩码

### Redhat系列的Linux专有ip配置工具：setup

### 修改网络配置文件

ubuntu的网卡配置文件是：

    /etc/network/interfaces

里面的原始默认内容是：

    auto lo
    iface lo inet loopback

更改配置：

    <!-- 动态获取的配置方法： -->
    auto eth0
    iface eth0 inet dhcp
    <!-- 静态分配的配置方法： -->
    auto eth0
    iface eth0 inet static
    address 192.168.0.1
    netmask  255.255.255.0
    gateway  192.168.0.1

*我没试过，所以不知道这个百度来的答案对不对。。。。。。*

DNS配置文件：

    /etc/resolv.conf

里面的内容是：

    <!-- Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8) -->
    <!-- DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN -->
    nameserver 127.0.1.1

## 网络环境查看命令

### ifconfig

<font color="red">查看本机ip和子网掩码。</font>

### 网卡管理命令：ifdown 待关闭网卡名 和 ifup 待开启网卡名

### 查看网络状态：netstat [选项]

- -t 列出TCP端口协议
- -u 列出UDP端口协议
- -n 不使用域名和与服务名，而使用IP地址和端口号
- -l 列出在监听的状态网络服务
- -a 列出所有的网络连接

### 查看路由列表：route -n

网关有两个作用：

- 局域网内部不同交换机之间交换数据
- 内部网络与外部网络之间的数据交互

*网关可以由路由器和服务器充当。*

<font color="red">查看网关。</font>

### 通过域名查看ip命令：nslookup 域名

<font color="red">查看DNS数据。</font>

## 网络测试命令

### 检测连接：ping [-c 发送测试数据组数] ip或域名

### 远程管理与端口探测命令：telnet 域名或ip 端口

这个不安全，消息会明文传递。

### 路由跟踪命令：traceroute [-n 表示后面使用的是ip] ip与域名

### 抓包命令：tcpdump [选项]

- -i 指定网卡接口
- -nn 将数据包中的域名与服务转为ip和端口
- -X 以十六进制和ASCII码显示数据包内容
- port 指定监听端口


